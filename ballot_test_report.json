{
  "timestamp": "2025-09-28T14:06:34.059634",
  "summary": {
    "total_tests": 7,
    "passed": 6,
    "failed": 1,
    "success_rate": 85.71428571428571
  },
  "test_results": {
    "ballot_page": true,
    "geolocation": true,
    "cascading": true,
    "ballot_api": false,
    "analytics": true,
    "position_utils": true,
    "default_avatar": true
  },
  "detailed_logs": [
    {
      "test": "Ballot Page Load",
      "status": "\u2705 PASSED",
      "time": "14:06:33",
      "details": "Status: 200, Size: 38939 bytes",
      "data": {
        "has_geolocation": true,
        "has_position_utils": true,
        "has_alpine": true,
        "has_location_form": true
      }
    },
    {
      "test": "Geolocation API - Kathmandu (Valid)",
      "status": "\u2705 PASSED",
      "time": "14:06:33",
      "details": "Coordinates: (27.7172, 85.324)",
      "data": {
        "province": {
          "id": 3,
          "name_en": "Bagmati",
          "name_ne": "\u092c\u093e\u0917\u092e\u0924\u0940 \u092a\u094d\u0930\u0926\u0947\u0936"
        },
        "district": {
          "id": 27,
          "name_en": "Kathmandu",
          "name_ne": "\u0915\u093e\u0920\u092e\u093e\u0921\u094c\u0902"
        },
        "municipality": {
          "id": 155,
          "name_en": "Budhanilkantha",
          "name_ne": "\u092c\u0942\u0922\u093e\u0928\u0940\u0932\u0915\u0923\u094d\u0920",
          "code": "M2702"
        },
        "ward_number": null
      }
    },
    {
      "test": "Geolocation API - Pokhara (Valid)",
      "status": "\u2705 PASSED",
      "time": "14:06:33",
      "details": "Coordinates: (28.2096, 83.9856)",
      "data": {
        "province": {
          "id": 4,
          "name_en": "Gandaki",
          "name_ne": "\u0917\u0923\u094d\u0921\u0915\u0940 \u092a\u094d\u0930\u0926\u0947\u0936"
        },
        "district": {
          "id": 38,
          "name_en": "Kaski",
          "name_ne": "\u0915\u093e\u0938\u094d\u0915\u0940"
        },
        "municipality": {
          "id": 166,
          "name_en": "Annapurna",
          "name_ne": "\u0905\u0928\u094d\u0928\u092a\u0942\u0930\u094d\u0923",
          "code": "M3802"
        },
        "ward_number": null
      }
    },
    {
      "test": "Geolocation API - Biratnagar (Valid)",
      "status": "\u2705 PASSED",
      "time": "14:06:33",
      "details": "Coordinates: (26.4525, 87.2718)",
      "data": {
        "province": {
          "id": 1,
          "name_en": "Koshi",
          "name_ne": "\u0915\u094b\u0936\u0940 \u092a\u094d\u0930\u0926\u0947\u0936"
        },
        "district": {
          "id": 6,
          "name_en": "Morang",
          "name_ne": "\u092e\u094b\u0930\u0919"
        },
        "municipality": {
          "id": 57,
          "name_en": "Belbari",
          "name_ne": "\u092c\u0947\u0932\u092c\u093e\u0930\u0940",
          "code": "M0606"
        },
        "ward_number": null
      }
    },
    {
      "test": "Geolocation API - Outside Nepal (Invalid)",
      "status": "\u2705 PASSED",
      "time": "14:06:33",
      "details": "Coordinates: (28.6139, 77.209)",
      "data": {
        "error": "Location outside Nepal boundaries"
      }
    },
    {
      "test": "Geolocation API - Far outside (Invalid)",
      "status": "\u2705 PASSED",
      "time": "14:06:33",
      "details": "Coordinates: (40.7128, -74.006)",
      "data": {
        "error": "Location outside Nepal boundaries"
      }
    },
    {
      "test": "Districts by Province API",
      "status": "\u2705 PASSED",
      "time": "14:06:33",
      "details": "Found 13 districts in Province 3 (Bagmati)",
      "data": {
        "sample_districts": [
          {
            "id": 23,
            "name_en": "Bhaktapur",
            "name_ne": "\u092d\u0915\u094d\u0924\u092a\u0941\u0930"
          },
          {
            "id": 24,
            "name_en": "Chitwan",
            "name_ne": "\u091a\u093f\u0924\u0935\u0928"
          },
          {
            "id": 25,
            "name_en": "Dhading",
            "name_ne": "\u0927\u093e\u0926\u093f\u0919"
          }
        ]
      }
    },
    {
      "test": "Municipalities by District API",
      "status": "\u2705 PASSED",
      "time": "14:06:34",
      "details": "Found 4 municipalities in Bhaktapur",
      "data": {
        "sample_municipalities": [
          {
            "id": 288,
            "name_en": "Bhaktapur",
            "name_ne": "\u092d\u0915\u094d\u0924\u092a\u0941\u0930",
            "municipality_type": "municipality",
            "total_wards": 10
          },
          {
            "id": 289,
            "name_en": "Changunarayan",
            "name_ne": "\u091a\u093e\u0901\u0917\u0941\u0928\u093e\u0930\u093e\u092f\u0923",
            "municipality_type": "municipality",
            "total_wards": 9
          },
          {
            "id": 290,
            "name_en": "Madhyapur Thimi",
            "name_ne": "\u092e\u0927\u094d\u092f\u092a\u0941\u0930 \u0925\u093f\u092e\u0940",
            "municipality_type": "municipality",
            "total_wards": 9
          }
        ]
      }
    },
    {
      "test": "My Ballot API - Kathmandu Ward 5",
      "status": "\u2705 PASSED",
      "time": "14:06:34",
      "details": "Found 4 candidates",
      "data": {
        "location_params": {
          "province_id": 3,
          "district_id": 27,
          "municipality_id": 155,
          "ward_number": 5
        },
        "candidate_count": 4,
        "sample_candidates": [
          {
            "name": "Gopal Krishna Shrestha",
            "position": "provincial"
          },
          {
            "name": "Sita Devi Poudel",
            "position": "local"
          }
        ]
      }
    },
    {
      "test": "My Ballot API - Province Only",
      "status": "\u2705 PASSED",
      "time": "14:06:34",
      "details": "Found 1 candidates",
      "data": {
        "location_params": {
          "province_id": 1
        },
        "candidate_count": 1,
        "sample_candidates": [
          {
            "name": "Sunita Poudel",
            "position": "federal"
          }
        ]
      }
    },
    {
      "test": "My Ballot API - No Location",
      "status": "\u274c FAILED",
      "time": "14:06:34",
      "details": "Status: 400"
    },
    {
      "test": "Analytics Tracking",
      "status": "\u2705 PASSED",
      "time": "14:06:34",
      "details": "Analytics endpoint working (Note: Dev cache is process-local)",
      "data": {
        "total_requests": 15,
        "successful": 9,
        "failed": 6,
        "success_rate": 60.0,
        "provinces": {
          "Bagmati": 3,
          "Gandaki": 3,
          "Koshi": 3
        }
      }
    },
    {
      "test": "Position Utils Integration",
      "status": "\u2705 PASSED",
      "time": "14:06:34",
      "details": "Found 6 unique position levels",
      "data": {
        "position_levels": [
          "local_executive",
          "ward",
          "local",
          "provincial",
          "ward_chairperson",
          "federal"
        ],
        "sample_candidates": [
          {
            "name": "Test Candidate",
            "position": "ward_chairperson",
            "photo": "default"
          },
          {
            "name": "Verification Test User",
            "position": "ward",
            "photo": "default"
          },
          {
            "name": "Test Translation Candidate",
            "position": "ward",
            "photo": "default"
          }
        ]
      }
    },
    {
      "test": "Default Avatar Setting",
      "status": "\u2705 PASSED",
      "time": "14:06:34",
      "details": "9/9 candidates using default avatar",
      "data": {
        "total_candidates": 9,
        "using_default": 9,
        "default_path": "/static/images/default-avatar.png"
      }
    }
  ]
}